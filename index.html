<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Comprehensive IPC Framework</title>
  <meta name="description" content="Framework for efficient Inter-Process Communication (pipes, queues, shared memory) with security features." />

  <style>
    /* CSS variables and theme */
    :root{
      --bg:#0f1724;
      --card:#0b1220aa;
      --glass:#ffffff10;
      --muted:#9aa4b2;
      --accent:#6ee7b7;
      --accent-2:#60a5fa;
      --glass-border: rgba(255,255,255,0.06);
      --radius:14px;
      --fw-regular: 400;
      --fw-strong: 700;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(800px 500px at 10% 10%, rgba(96,165,250,0.06), transparent 15%),
        radial-gradient(700px 450px at 95% 90%, rgba(110,231,183,0.04), transparent 15%),
        linear-gradient(180deg, #081026 0%, #071226 50%, #07182b 100%);
      color: #e6eef6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:40px 20px;
      display:flex;
      justify-content:center;
      align-items:flex-start;
    }

    .container{
      width:100%;
      max-width:var(--maxw);
      display:grid;
      gap:28px;
      grid-template-columns: 1fr 380px;
      align-items:start;
    }

    header{
      grid-column: 1 / -1;
      display:flex;
      justify-content:space-between;
      gap:16px;
      align-items:center;
      margin-bottom:6px;
    }
    .brand{
      display:flex;
      gap:14px;
      align-items:center;
    }
    .logo{
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:grid;place-items:center;font-weight:800;color:#05202a;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      font-family:monospace;
    }
    h1{font-size:1.2rem; margin:0}
    p.lead{margin:0;color:var(--muted);font-size:0.95rem}

    /* Left content - main */
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border);
      border-radius:var(--radius);
      padding:20px;
      backdrop-filter: blur(6px) saturate(130%);
      box-shadow: 0 6px 24px rgba(2,6,23,0.6);
    }
    .main{
      padding:18px;
    }

    .grid-2{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:12px;
    }

    .kpi{
      background:linear-gradient(90deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01));
      padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
    }

    .section-title{
      display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;
    }
    .section-title h2{font-size:1rem;margin:0}
    .pill{font-size:0.85rem;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.04); color:var(--muted)}

    pre {
      background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(255,255,255,0.02));
      border-radius:10px;padding:12px;overflow:auto;border:1px solid rgba(255,255,255,0.03);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size:0.85rem;color:#dbeafe;
    }

    /* Right sidebar */
    aside{
      position:sticky; top:28px;
      height:fit-content;
      display:flex;flex-direction:column;gap:14px;
    }
    .aside-card{padding:18px}

    /* architecture diagram */
    .diagram{
      display:grid;place-items:center;padding:14px;border-radius:12px;border:1px dashed rgba(255,255,255,0.04);
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    }
    svg{max-width:100%;height:auto}

    /* features list */
    ul.features{list-style:none;padding:0;margin:0;display:grid;gap:8px}
    ul.features li{display:flex;gap:12px;align-items:flex-start}
    .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);margin-top:6px;flex:0 0 10px}

    /* buttons */
    .btn{
      display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#032025;font-weight:700;cursor:pointer;
    }

    /* responsive */
    @media (max-width:1000px){
      .container{grid-template-columns: 1fr; padding-bottom:60px}
      aside{position:relative;top:0}
    }

    /* small UI */
    .mono{font-family:monospace;font-size:0.9rem;color:#bfeede}
    .muted{color:var(--muted);font-size:0.9rem}
    .cta-row{display:flex;gap:10px;flex-wrap:wrap}

    /* subtle fade-in */
    .fade-up{opacity:0; transform:translateY(8px); animation:fadeUp .6s ease forwards}
    @keyframes fadeUp{to{opacity:1;transform:none}}

    /* dark-mode accessible focus */
    a,button{outline:none}
    button:focus, a:focus{box-shadow:0 0 0 4px rgba(96,165,250,0.12); border-radius:8px}
  </style>
</head>
<body>
  <div class="container" role="main">
    <header class="fade-up">
      <div class="brand">
        <div class="logo">IPC</div>
        <div>
          <h1>Comprehensive Inter-Process Communication Framework</h1>
          <p class="lead">Efficient IPC (pipes, message queues, shared memory) with security-first design.</p>
        </div>
      </div>

      <div class="cta-row">
        <button class="btn" onclick="copySpec()">Copy API Spec</button>
        <a class="pill" href="#getting-started">Get started</a>
      </div>
    </header>

    <!-- Left main -->
    <main class="card main fade-up" aria-labelledby="about-title">
      <div class="section-title">
        <h2 id="about-title">Project Overview</h2>
        <span class="pill">IPC · Security · Cross-platform</span>
      </div>

      <p class="muted">This framework provides standardized IPC primitives (pipes, named pipes, message queues, shared memory + synchronization primitives). It includes authentication, encryption, and ACLs to prevent unauthorized access.</p>

      <div style="height:14px"></div>

      <div class="grid-2">
        <div class="kpi">
          <strong>Core primitives</strong>
          <ul class="muted" style="margin:8px 0 0 0;padding-left:18px">
            <li>Anonymous pipes</li>
            <li>Named pipes (cross-process)</li>
            <li>Message queues (priority & persistence)</li>
            <li>Shared memory + semaphores</li>
          </ul>
        </div>
        <div class="kpi">
          <strong>Security</strong>
          <ul class="muted" style="margin:8px 0 0 0;padding-left:18px">
            <li>Mutual authentication (API keys / tokens)</li>
            <li>Optional AES-GCM encryption for payloads</li>
            <li>Capability-based ACLs for channels</li>
            <li>Audit logging + tamper-evidence</li>
          </ul>
        </div>
      </div>

      <div style="height:16px"></div>

      <div class="section-title">
        <h2>Architecture</h2>
        <span class="muted">High-level diagram</span>
      </div>

      <div class="diagram" role="img" aria-label="IPC architecture diagram">
        <!-- Simple SVG diagram for clarity -->
        <svg viewBox="0 0 900 240" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#6ee7b7"></stop>
              <stop offset="1" stop-color="#60a5fa"></stop>
            </linearGradient>
            <filter id="f1" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="6" stdDeviation="14" flood-opacity="0.25"></feDropShadow>
            </filter>
          </defs>
          <rect x="18" y="30" rx="12" width="240" height="72" fill="#071a2b"/>
          <text x="36" y="74" fill="#a7f3d0" font-size="14" font-family="Arial">Process A</text>

          <rect x="340" y="10" rx="14" width="220" height="140" fill="url(#g1)" fill-opacity="0.08" stroke="#ffffff10" />
          <text x="380" y="45" fill="#e6fdf3" font-size="15">IPC Core</text>
          <text x="360" y="70" fill="#dbeefe" font-size="12">Dispatcher · Channels · ACLs · Crypto</text>

          <rect x="620" y="30" rx="12" width="240" height="72" fill="#071a2b"/>
          <text x="636" y="74" fill="#bfdbf8" font-size="14">Process B</text>

          <!-- arrows -->
          <g stroke="rgba(255,255,255,0.18)" stroke-width="2" fill="none">
            <path d="M260 66 C 300 66, 330 60, 340 66" stroke-linecap="round"></path>
            <path d="M560 66 C 570 72, 600 66, 640 66" stroke-linecap="round"></path>
          </g>

          <!-- lower: channels -->
          <rect x="260" y="150" rx="10" width="380" height="66" fill="#071126" stroke="#ffffff08"/>
          <text x="300" y="190" fill="#bfeede" font-size="13">Channels: named_pipes | msg_queues | shared_mem</text>
        </svg>
      </div>

      <div style="height:18px"></div>

      <div class="section-title">
        <h2>Example: Message Queue API</h2>
        <span class="muted">HTTP / gRPC friendly</span>
      </div>

      <pre>
// Create queue
POST /api/queues
{ "name": "orders", "durable": true, "acl": ["service-A","service-B"] }

// Publish
POST /api/queues/orders/publish
{ "priority": 5, "payload": "base64-or-json", "enc": "aes-gcm" }

// Consume (long poll)
GET /api/queues/orders/consume?consumer_id=service-B
      </pre>

      <div style="height:12px"></div>

      <div class="section-title">
        <h2>Security pattern (brief)</h2>
        <span class="muted">Design notes</span>
      </div>
      <ul class="features">
        <li><div class="dot"></div><div><strong>Mutual auth:</strong> Token-based + optional mTLS for endpoints.</div></li>
        <li><div class="dot"></div><div><strong>Channel ACLs:</strong> Fine-grained allow/deny lists per channel.</div></li>
        <li><div class="dot"></div><div><strong>Encryption:</strong> Payloads encrypted with AES-GCM; keys per-channel rotated.</div></li>
        <li><div class="dot"></div><div><strong>Auditing:</strong> Signed audit entries append-only (tamper-evident).</div></li>
      </ul>

      <div style="height:16px"></div>
      <div style="display:flex;justify-content:space-between;gap:12px;align-items:center">
        <div>
          <strong class="mono">Language</strong>
          <div class="muted">Python / C / Rust friendly</div>
        </div>
        <div>
          <button class="btn" onclick="openGettingStarted()">Getting started</button>
        </div>
      </div>
    </main>

    <!-- Right sidebar -->
    <aside>
      <div class="card aside-card fade-up">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <strong>Quick links</strong>
            <div class="muted">Project structure & CLI</div>
          </div>
        </div>

        <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

        <div class="muted mono">
          <div>/ipc-framework</div>
          <div style="margin-left:12px">/backend (Flask)</div>
          <div style="margin-left:12px">/frontend (static / SPA)</div>
          <div style="margin-left:12px">/docs</div>
        </div>

        <div style="height:12px"></div>
        <button class="btn" onclick="copyStructure()">Copy Structure</button>
      </div>

      <div class="card aside-card fade-up">
        <strong>Notes</strong>
        <div class="muted" style="margin-top:8px;font-size:0.95rem">
          - Use shared memory for high throughput on same host.<br>
          - Use message queues for durable decoupling across hosts.<br>
          - Apply per-channel rate-limiting for DoS protection.
        </div>
      </div>

      <div class="card aside-card fade-up">
        <strong>Example snippet (consumer)</strong>
        <pre>def consume(queue):
    while True:
        msg = api.consume(queue)
        handle(msg)</pre>
      </div>
    </aside>
  </div>

<script>
  // small helper functions
  function openGettingStarted(){
    window.location.hash = '#getting-started';
    alert('Scroll down to the Getting Started section of docs (see server README).');
  }

  function copySpec(){
    const spec = JSON.stringify({
      endpoints:[
        {method:'POST', path:'/api/queues', body:{name:'orders', durable:true}},
        {method:'POST', path:'/api/queues/{q}/publish'},
        {method:'GET', path:'/api/queues/{q}/consume'}
      ]
    }, null, 2);
    navigator.clipboard?.writeText(spec).then(()=> alert('API spec copied to clipboard.'));
  }

  function copyStructure(){
    const structure = `/ipc-framework
  /backend
    app.py
    requirements.txt
  /frontend
    index.html
    styles.css
  /docs
    design.md`;
    navigator.clipboard?.writeText(structure).then(()=> alert('Project structure copied.'));
  }

  // simple fade-in
  document.querySelectorAll('.fade-up').forEach((el,i)=>{
    el.style.animationDelay = (i*80)+'ms';
  });
</script>
</body>
</html>
